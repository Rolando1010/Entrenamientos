{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useParams } from \"react-router-native\";\nimport Button, { IconButton } from \"../components/button\";\nimport { PlusIcon } from \"../components/icons\";\nimport { LabelInput } from \"../components/input\";\nimport ListItem from \"../components/list-item\";\nimport Modal from \"../components/modal\";\nimport { errorToast, infoToast, successToast } from \"../components/toast\";\nimport { getExercisesCategory, saveExerciseCategory, removeExerciseCategory } from \"../services/categories\";\nimport { listItemStyle } from \"../styles/components\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ExercisesCategory = function ExercisesCategory() {\n  var _useParams = useParams(),\n      categoryName = _useParams.categoryName;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      exercises = _useState2[0],\n      setExercises = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var modalRef = useRef();\n\n  var updateExercises = function updateExercises() {\n    getExercisesCategory(categoryName).then(setExercises);\n  };\n\n  var addExercise = function addExercise() {\n    saveExerciseCategory(categoryName, name).then(function () {\n      updateCategories();\n      modalRef.close();\n      setName(\"\");\n      successToast(\"Ejercicio a単adido\");\n    }).catch(console.log);\n  };\n\n  var deleteExercise = function deleteExercise(exerciseName) {\n    return function () {\n      removeExerciseCategory(categoryName, exerciseName).then(function () {\n        updateExercises();\n        infoToast(\"Ejercicio eliminado\");\n      });\n    };\n  };\n\n  useEffect(updateExercises, []);\n  return _jsxs(_Fragment, {\n    children: [_jsx(View, {\n      style: listItemStyle.container,\n      children: _jsx(IconButton, {\n        icon: _jsx(PlusIcon, {}),\n        onPress: function onPress() {\n          return modalRef.open();\n        },\n        children: \"A\\xF1adir ejercicio\"\n      })\n    }), exercises.map(function (exercise, index) {\n      return _jsx(ListItem, {\n        text: exercise,\n        url: \"/exercises/\" + exercise,\n        deletion: deleteExercise(exercise)\n      }, \"exercise-\" + index);\n    }), _jsx(Modal, {\n      title: \"Nuevo ejercicio\",\n      footerElement: _jsx(Button, {\n        onPress: addExercise,\n        children: \"A\\xF1adir\"\n      }),\n      modalRef: modalRef,\n      children: _jsx(LabelInput, {\n        text: \"Nombre de ejercicio\",\n        containerStyle: {\n          width: \"100%\",\n          marginTop: 8\n        },\n        value: name,\n        onChange: setName,\n        autoFocus: true\n      })\n    })]\n  });\n};\n\nexport default ExercisesCategory;","map":{"version":3,"names":["useEffect","useRef","useState","useParams","Button","IconButton","PlusIcon","LabelInput","ListItem","Modal","errorToast","infoToast","successToast","getExercisesCategory","saveExerciseCategory","removeExerciseCategory","listItemStyle","ExercisesCategory","categoryName","exercises","setExercises","name","setName","modalRef","updateExercises","then","addExercise","updateCategories","close","catch","console","log","deleteExercise","exerciseName","container","open","map","exercise","index","width","marginTop"],"sources":["C:/Users/ROLANDO MORA/Documents/Proyectos/Entrenamientos/V2/src/screens/exercises-category.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport { View } from \"react-native\";\r\nimport { useParams } from \"react-router-native\";\r\nimport Button, { IconButton } from \"../components/button\";\r\nimport { PlusIcon } from \"../components/icons\";\r\nimport { LabelInput } from \"../components/input\";\r\nimport ListItem from \"../components/list-item\";\r\nimport Modal from \"../components/modal\";\r\nimport { errorToast, infoToast, successToast } from \"../components/toast\";\r\nimport { getExercisesCategory, saveExerciseCategory, removeExerciseCategory } from \"../services/categories\";\r\nimport { listItemStyle } from \"../styles/components\";\r\n\r\nconst ExercisesCategory = () => {\r\n    const { categoryName } = useParams();\r\n    const [exercises, setExercises] = useState([]);\r\n    const [name, setName] = useState(\"\");\r\n    const modalRef = useRef();\r\n\r\n    const updateExercises = () => {\r\n        getExercisesCategory(categoryName).then(setExercises);\r\n    }\r\n\r\n    const addExercise = () => {\r\n        saveExerciseCategory(categoryName, name)\r\n        .then(() => {\r\n            updateCategories();\r\n            modalRef.close();\r\n            setName(\"\");\r\n            successToast(\"Ejercicio a単adido\");\r\n        })\r\n        .catch(console.log);\r\n    }\r\n\r\n    const deleteExercise = exerciseName => () => {\r\n        removeExerciseCategory(categoryName, exerciseName).then(() => {\r\n            updateExercises();\r\n            infoToast(\"Ejercicio eliminado\");\r\n        });\r\n    }\r\n\r\n    useEffect(updateExercises, []);\r\n\r\n    return (<>\r\n        <View style={listItemStyle.container}>\r\n            <IconButton icon={<PlusIcon/>} onPress={() => modalRef.open()}>\r\n                A単adir ejercicio\r\n            </IconButton>\r\n        </View>\r\n        {exercises.map((exercise, index) =>\r\n            <ListItem\r\n                key={`exercise-${index}`}\r\n                text={exercise}\r\n                url={`/exercises/${exercise}`}\r\n                deletion={deleteExercise(exercise)}\r\n            />\r\n        )}\r\n        <Modal\r\n            title=\"Nuevo ejercicio\"\r\n            footerElement={\r\n                <Button onPress={addExercise}>\r\n                    A単adir\r\n                </Button>\r\n            }\r\n            modalRef={modalRef}\r\n        >\r\n            <LabelInput\r\n                text=\"Nombre de ejercicio\"\r\n                containerStyle={{width: \"100%\", marginTop: 8}}\r\n                value={name}\r\n                onChange={setName}\r\n                autoFocus\r\n            />\r\n        </Modal>\r\n    </>);\r\n}\r\n\r\nexport default ExercisesCategory;"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;;AAEA,SAASC,SAAT,QAA0B,qBAA1B;AACA,OAAOC,MAAP,IAAiBC,UAAjB;AACA,SAASC,QAAT;AACA,SAASC,UAAT;AACA,OAAOC,QAAP;AACA,OAAOC,KAAP;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,YAAhC;AACA,SAASC,oBAAT,EAA+BC,oBAA/B,EAAqDC,sBAArD;AACA,SAASC,aAAT;;;;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;EAC5B,iBAAyBd,SAAS,EAAlC;EAAA,IAAQe,YAAR,cAAQA,YAAR;;EACA,gBAAkChB,QAAQ,CAAC,EAAD,CAA1C;EAAA;EAAA,IAAOiB,SAAP;EAAA,IAAkBC,YAAlB;;EACA,iBAAwBlB,QAAQ,CAAC,EAAD,CAAhC;EAAA;EAAA,IAAOmB,IAAP;EAAA,IAAaC,OAAb;;EACA,IAAMC,QAAQ,GAAGtB,MAAM,EAAvB;;EAEA,IAAMuB,eAAe,GAAG,SAAlBA,eAAkB,GAAM;IAC1BX,oBAAoB,CAACK,YAAD,CAApB,CAAmCO,IAAnC,CAAwCL,YAAxC;EACH,CAFD;;EAIA,IAAMM,WAAW,GAAG,SAAdA,WAAc,GAAM;IACtBZ,oBAAoB,CAACI,YAAD,EAAeG,IAAf,CAApB,CACCI,IADD,CACM,YAAM;MACRE,gBAAgB;MAChBJ,QAAQ,CAACK,KAAT;MACAN,OAAO,CAAC,EAAD,CAAP;MACAV,YAAY,CAAC,mBAAD,CAAZ;IACH,CAND,EAOCiB,KAPD,CAOOC,OAAO,CAACC,GAPf;EAQH,CATD;;EAWA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,YAAY;IAAA,OAAI,YAAM;MACzClB,sBAAsB,CAACG,YAAD,EAAee,YAAf,CAAtB,CAAmDR,IAAnD,CAAwD,YAAM;QAC1DD,eAAe;QACfb,SAAS,CAAC,qBAAD,CAAT;MACH,CAHD;IAIH,CALkC;EAAA,CAAnC;;EAOAX,SAAS,CAACwB,eAAD,EAAkB,EAAlB,CAAT;EAEA,OAAQ;IAAA,WACJ,KAAC,IAAD;MAAM,KAAK,EAAER,aAAa,CAACkB,SAA3B;MAAA,UACI,KAAC,UAAD;QAAY,IAAI,EAAE,KAAC,QAAD,KAAlB;QAA+B,OAAO,EAAE;UAAA,OAAMX,QAAQ,CAACY,IAAT,EAAN;QAAA,CAAxC;QAAA;MAAA;IADJ,EADI,EAMHhB,SAAS,CAACiB,GAAV,CAAc,UAACC,QAAD,EAAWC,KAAX;MAAA,OACX,KAAC,QAAD;QAEI,IAAI,EAAED,QAFV;QAGI,GAAG,kBAAgBA,QAHvB;QAII,QAAQ,EAAEL,cAAc,CAACK,QAAD;MAJ5B,iBACqBC,KADrB,CADW;IAAA,CAAd,CANG,EAcJ,KAAC,KAAD;MACI,KAAK,EAAC,iBADV;MAEI,aAAa,EACT,KAAC,MAAD;QAAQ,OAAO,EAAEZ,WAAjB;QAAA;MAAA,EAHR;MAOI,QAAQ,EAAEH,QAPd;MAAA,UASI,KAAC,UAAD;QACI,IAAI,EAAC,qBADT;QAEI,cAAc,EAAE;UAACgB,KAAK,EAAE,MAAR;UAAgBC,SAAS,EAAE;QAA3B,CAFpB;QAGI,KAAK,EAAEnB,IAHX;QAII,QAAQ,EAAEC,OAJd;QAKI,SAAS;MALb;IATJ,EAdI;EAAA,EAAR;AAgCH,CA9DD;;AAgEA,eAAeL,iBAAf"},"metadata":{},"sourceType":"module"}