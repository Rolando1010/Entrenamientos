{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { useMemo } from \"react\";\nimport useGlobalState from \"./useGlobalState\";\nimport { getExercises } from \"../services/day-workout\";\nimport { days, formatDate, months } from \"../utils/date\";\n\nvar useDate = function useDate() {\n  var _useGlobalState = useGlobalState(),\n      globalState = _useGlobalState.globalState,\n      setGlobalState = _useGlobalState.setGlobalState;\n\n  var detailDate = useMemo(function () {\n    if (globalState.date) {\n      var actualDate = globalState.date;\n      var dayName = days[actualDate.getDay()];\n\n      var _formatDate$split = formatDate(actualDate).split(\"/\"),\n          _formatDate$split2 = _slicedToArray(_formatDate$split, 2),\n          monthDay = _formatDate$split2[0],\n          monthNumber = _formatDate$split2[1];\n\n      var monthName = months[monthNumber - 1];\n      return dayName + \", \" + monthName + \" \" + monthDay;\n    }\n  }, [globalState.date]);\n\n  var setOperatedDate = function () {\n    var _ref = _asyncToGenerator(function* (callback) {\n      var actualDate = globalState.date;\n      var newDay = callback(actualDate.getDate());\n      var miliseconds = actualDate.setDate(newDay);\n      var newDate = new Date(miliseconds);\n      setGlobalState(_objectSpread(_objectSpread({}, globalState), {}, {\n        date: newDate,\n        dayExercises: yield getExercises(newDate)\n      }));\n    });\n\n    return function setOperatedDate(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var decrementDay = function decrementDay() {\n    setOperatedDate(function (date) {\n      return date - 1;\n    });\n  };\n\n  var incrementDay = function incrementDay() {\n    setOperatedDate(function (date) {\n      return date + 1;\n    });\n  };\n\n  return {\n    detailDate: detailDate,\n    decrementDay: decrementDay,\n    incrementDay: incrementDay\n  };\n};\n\nexport default useDate;","map":{"version":3,"names":["useMemo","useGlobalState","getExercises","days","formatDate","months","useDate","globalState","setGlobalState","detailDate","date","actualDate","dayName","getDay","split","monthDay","monthNumber","monthName","setOperatedDate","callback","newDay","getDate","miliseconds","setDate","newDate","Date","dayExercises","decrementDay","incrementDay"],"sources":["C:/Users/ROLANDO MORA/Documents/Proyectos/Entrenamientos/V2/src/hooks/useDate.js"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport useGlobalState from \"./useGlobalState\";\r\nimport { getExercises } from \"../services/day-workout\";\r\nimport { days, formatDate, months } from \"../utils/date\";\r\n\r\nconst useDate = () => {\r\n    const { globalState, setGlobalState } = useGlobalState();\r\n\r\n    const detailDate = useMemo(() => {\r\n        if(globalState.date){\r\n            const actualDate = globalState.date;\r\n            const dayName = days[actualDate.getDay()];\r\n            const [monthDay, monthNumber] = formatDate(actualDate).split(\"/\");\r\n            const monthName = months[monthNumber - 1];\r\n            return `${dayName}, ${monthName} ${monthDay}`;\r\n        }\r\n    }, [globalState.date]);\r\n\r\n    const setOperatedDate = async (callback) => {\r\n        const actualDate = globalState.date;\r\n        const newDay = callback(actualDate.getDate());\r\n        const miliseconds = actualDate.setDate(newDay);\r\n        const newDate = new Date(miliseconds);\r\n        setGlobalState({...globalState, date: newDate, dayExercises: await getExercises(newDate)});\r\n    }\r\n\r\n    const decrementDay = () => {\r\n        setOperatedDate(date => date - 1);\r\n    }\r\n\r\n    const incrementDay = () => {\r\n        setOperatedDate(date => date + 1);\r\n    }\r\n\r\n    return {\r\n        detailDate,\r\n        decrementDay,\r\n        incrementDay\r\n    }\r\n}\r\n\r\nexport default useDate;"],"mappings":";;;;;;;;AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,OAAOC,cAAP;AACA,SAASC,YAAT;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,MAA3B;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EAClB,sBAAwCL,cAAc,EAAtD;EAAA,IAAQM,WAAR,mBAAQA,WAAR;EAAA,IAAqBC,cAArB,mBAAqBA,cAArB;;EAEA,IAAMC,UAAU,GAAGT,OAAO,CAAC,YAAM;IAC7B,IAAGO,WAAW,CAACG,IAAf,EAAoB;MAChB,IAAMC,UAAU,GAAGJ,WAAW,CAACG,IAA/B;MACA,IAAME,OAAO,GAAGT,IAAI,CAACQ,UAAU,CAACE,MAAX,EAAD,CAApB;;MACA,wBAAgCT,UAAU,CAACO,UAAD,CAAV,CAAuBG,KAAvB,CAA6B,GAA7B,CAAhC;MAAA;MAAA,IAAOC,QAAP;MAAA,IAAiBC,WAAjB;;MACA,IAAMC,SAAS,GAAGZ,MAAM,CAACW,WAAW,GAAG,CAAf,CAAxB;MACA,OAAUJ,OAAV,UAAsBK,SAAtB,SAAmCF,QAAnC;IACH;EACJ,CARyB,EAQvB,CAACR,WAAW,CAACG,IAAb,CARuB,CAA1B;;EAUA,IAAMQ,eAAe;IAAA,6BAAG,WAAOC,QAAP,EAAoB;MACxC,IAAMR,UAAU,GAAGJ,WAAW,CAACG,IAA/B;MACA,IAAMU,MAAM,GAAGD,QAAQ,CAACR,UAAU,CAACU,OAAX,EAAD,CAAvB;MACA,IAAMC,WAAW,GAAGX,UAAU,CAACY,OAAX,CAAmBH,MAAnB,CAApB;MACA,IAAMI,OAAO,GAAG,IAAIC,IAAJ,CAASH,WAAT,CAAhB;MACAd,cAAc,iCAAKD,WAAL;QAAkBG,IAAI,EAAEc,OAAxB;QAAiCE,YAAY,QAAQxB,YAAY,CAACsB,OAAD;MAAjE,GAAd;IACH,CANoB;;IAAA,gBAAfN,eAAe;MAAA;IAAA;EAAA,GAArB;;EAQA,IAAMS,YAAY,GAAG,SAAfA,YAAe,GAAM;IACvBT,eAAe,CAAC,UAAAR,IAAI;MAAA,OAAIA,IAAI,GAAG,CAAX;IAAA,CAAL,CAAf;EACH,CAFD;;EAIA,IAAMkB,YAAY,GAAG,SAAfA,YAAe,GAAM;IACvBV,eAAe,CAAC,UAAAR,IAAI;MAAA,OAAIA,IAAI,GAAG,CAAX;IAAA,CAAL,CAAf;EACH,CAFD;;EAIA,OAAO;IACHD,UAAU,EAAVA,UADG;IAEHkB,YAAY,EAAZA,YAFG;IAGHC,YAAY,EAAZA;EAHG,CAAP;AAKH,CAlCD;;AAoCA,eAAetB,OAAf"},"metadata":{},"sourceType":"module"}