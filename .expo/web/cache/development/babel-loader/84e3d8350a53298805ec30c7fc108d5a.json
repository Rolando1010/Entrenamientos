{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Link, useLocation, useNavigate } from \"react-router-native\";\nimport { menuStyle } from \"../styles/components\";\nimport { CalendarIcon, GraphIcon, HomeIcon } from \"./icons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar sections = [{\n  link: \"/\",\n  icon: _jsx(HomeIcon, {})\n}, {\n  link: \"/calendar\",\n  icon: _jsx(CalendarIcon, {})\n}, {\n  link: \"/statistics\",\n  icon: _jsx(GraphIcon, {})\n}];\n\nvar Menu = function Menu() {\n  var _useLocation = useLocation(),\n      pathname = _useLocation.pathname;\n\n  var navigate = useNavigate();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      sectionActive = _useState2[0],\n      setSectionActive = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visitedURLs = _useState4[0],\n      setVisitedURLs = _useState4[1];\n\n  var putCorrectSectionByURL = function putCorrectSectionByURL() {\n    var currentSectionByURL;\n    sections.forEach(function (_ref, index) {\n      var link = _ref.link;\n\n      if (pathname.indexOf(link) === 0) {\n        currentSectionByURL = index;\n      }\n    });\n    setSectionActive(currentSectionByURL);\n  };\n\n  var updateVisitedURLs = function updateVisitedURLs() {\n    setVisitedURLs([].concat(_toConsumableArray(visitedURLs), [pathname]));\n  };\n\n  var backURL = function backURL() {\n    var firstURLs = visitedURLs.slice(0, -1);\n\n    if (firstURLs.length) {\n      navigate(firstURLs[firstURLs.length - 1]);\n    } else {\n      BackHandler.exitApp();\n    }\n\n    setVisitedURLs(firstURLs);\n    return true;\n  };\n\n  useEffect(function () {\n    putCorrectSectionByURL();\n    updateVisitedURLs();\n  }, [pathname]);\n  useEffect(function () {\n    BackHandler.addEventListener(\"hardwareBackPress\", backURL);\n    return function () {\n      return BackHandler.removeEventListener(\"hardwareBackPress\", backURL);\n    };\n  }, [visitedURLs]);\n  return _jsxs(View, {\n    style: menuStyle.menu,\n    children: [_jsxs(Text, {\n      style: menuStyle.title,\n      children: [_jsx(Image, {\n        style: statisticsStyles.noGraphImage,\n        source: require(\"../../assets/no-graph.png\")\n      }), \"Entrenamientos\"]\n    }), _jsx(View, {\n      style: menuStyle.sectionContainer,\n      children: sections.map(function (_ref2, index) {\n        var link = _ref2.link,\n            icon = _ref2.icon;\n        return _jsx(View, {\n          style: [menuStyle.section, sectionActive === index ? menuStyle.sectionActive : null],\n          children: _jsx(Link, {\n            to: link,\n            onPress: function onPress() {\n              return setSectionActive(index);\n            },\n            underlayColor: \"transparent\",\n            children: icon\n          })\n        }, \"section-\" + index);\n      })\n    })]\n  });\n};\n\nexport default Menu;","map":{"version":3,"names":["useEffect","useState","Link","useLocation","useNavigate","menuStyle","CalendarIcon","GraphIcon","HomeIcon","sections","link","icon","Menu","pathname","navigate","sectionActive","setSectionActive","visitedURLs","setVisitedURLs","putCorrectSectionByURL","currentSectionByURL","forEach","index","indexOf","updateVisitedURLs","backURL","firstURLs","slice","length","BackHandler","exitApp","addEventListener","removeEventListener","menu","title","statisticsStyles","noGraphImage","require","sectionContainer","map","section"],"sources":["C:/Users/ROLANDO MORA/Documents/Proyectos/Entrenamientos/V2/src/components/menu.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { View, Text, BackHandler, Image } from \"react-native\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-native\";\r\nimport { menuStyle } from \"../styles/components\";\r\nimport { CalendarIcon, GraphIcon, HomeIcon } from \"./icons\";\r\n\r\nconst sections = [\r\n    {link: \"/\", icon: <HomeIcon/>},\r\n    {link: \"/calendar\", icon: <CalendarIcon/>},\r\n    {link: \"/statistics\", icon: <GraphIcon/>},\r\n];\r\n\r\nconst Menu = () => {\r\n    const { pathname } = useLocation();\r\n    const navigate = useNavigate();\r\n    const [sectionActive, setSectionActive] = useState(0);\r\n    const [visitedURLs, setVisitedURLs] = useState([]);\r\n\r\n    const putCorrectSectionByURL = () => {\r\n        let currentSectionByURL;\r\n        sections.forEach(({ link }, index) => {\r\n            if(pathname.indexOf(link) === 0){\r\n                currentSectionByURL = index;\r\n            }\r\n        });\r\n        setSectionActive(currentSectionByURL);\r\n    }\r\n\r\n    const updateVisitedURLs = () => {\r\n        setVisitedURLs([...visitedURLs, pathname]);\r\n    }\r\n\r\n    const backURL = () => {\r\n        const firstURLs = visitedURLs.slice(0, -1);\r\n        if(firstURLs.length){\r\n            navigate(firstURLs[firstURLs.length - 1]);\r\n        }else{\r\n            BackHandler.exitApp();\r\n        }\r\n        setVisitedURLs(firstURLs);\r\n        return true;\r\n    }\r\n\r\n    useEffect(() => {\r\n        putCorrectSectionByURL();\r\n        updateVisitedURLs();\r\n    }, [pathname]);\r\n\r\n    useEffect(() => {\r\n        BackHandler.addEventListener(\"hardwareBackPress\", backURL);\r\n        return () => BackHandler.removeEventListener(\"hardwareBackPress\", backURL);\r\n    }, [visitedURLs]);\r\n\r\n    return (\r\n        <View style={menuStyle.menu}>\r\n            <Text style={menuStyle.title}>\r\n                <Image\r\n                    style={statisticsStyles.noGraphImage}\r\n                    source={require(\"../../assets/no-graph.png\")}\r\n                />\r\n                Entrenamientos\r\n            </Text>\r\n            <View style={menuStyle.sectionContainer}>\r\n                {sections.map(({link, icon}, index) =>\r\n                    <View\r\n                        key={`section-${index}`}\r\n                        style={[menuStyle.section, sectionActive === index ? menuStyle.sectionActive : null]}\r\n                    >\r\n                        <Link\r\n                            to={link}\r\n                            onPress={() => setSectionActive(index)}\r\n                            underlayColor=\"transparent\"\r\n                        >{icon}</Link>\r\n                    </View>\r\n                )}\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\nexport default Menu;"],"mappings":"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"},"metadata":{},"sourceType":"module"}