{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { useMemo } from \"react\";\nimport useGlobalState from \"./useGlobalState\";\nimport { getExercises } from \"../services/day-workout\";\nvar days = [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"];\nvar months = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\n\nvar useDate = function useDate() {\n  var _useGlobalState = useGlobalState(),\n      globalState = _useGlobalState.globalState,\n      setGlobalState = _useGlobalState.setGlobalState;\n\n  var detailDate = useMemo(function () {\n    if (globalState.date) {\n      var actualDate = globalState.date;\n      var dayName = days[actualDate.getDay()];\n\n      var _actualDate$toLocaleD = actualDate.toLocaleDateString(\"en-GB\").split(\"/\"),\n          _actualDate$toLocaleD2 = _slicedToArray(_actualDate$toLocaleD, 2),\n          monthDay = _actualDate$toLocaleD2[0],\n          monthNumber = _actualDate$toLocaleD2[1];\n\n      var monthName = months[monthNumber - 1];\n      return dayName + \", \" + monthName + \" \" + monthDay;\n    }\n  }, [globalState.date]);\n\n  var setOperatedDate = function () {\n    var _ref = _asyncToGenerator(function* (callback) {\n      var actualDate = globalState.date;\n      var newDay = callback(actualDate.getDate());\n      var miliseconds = actualDate.setDate(newDay);\n      var newDate = new Date(miliseconds);\n      setGlobalState(_objectSpread(_objectSpread({}, globalState), {}, {\n        date: newDate,\n        todayExercises: yield getExercises(newDate)\n      }));\n    });\n\n    return function setOperatedDate(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var decrementDay = function decrementDay() {\n    setOperatedDate(function (date) {\n      return date - 1;\n    });\n  };\n\n  var incrementDay = function incrementDay() {\n    setOperatedDate(function (date) {\n      return date + 1;\n    });\n  };\n\n  return {\n    detailDate: detailDate,\n    decrementDay: decrementDay,\n    incrementDay: incrementDay\n  };\n};\n\nexport default useDate;","map":{"version":3,"names":["useMemo","useGlobalState","getExercises","days","months","useDate","globalState","setGlobalState","detailDate","date","actualDate","dayName","getDay","toLocaleDateString","split","monthDay","monthNumber","monthName","setOperatedDate","callback","newDay","getDate","miliseconds","setDate","newDate","Date","todayExercises","decrementDay","incrementDay"],"sources":["C:/Users/ROLANDO MORA/Documents/Proyectos/Entrenamientos/V2/src/hooks/useDate.js"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport useGlobalState from \"./useGlobalState\";\r\nimport { getExercises } from \"../services/day-workout\";\r\n\r\nconst days = [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"];\r\nconst months = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\r\n\r\nconst useDate = () => {\r\n    const { globalState, setGlobalState } = useGlobalState();\r\n\r\n    const detailDate = useMemo(() => {\r\n        if(globalState.date){\r\n            const actualDate = globalState.date;\r\n            const dayName = days[actualDate.getDay()];\r\n            const [monthDay, monthNumber] = actualDate.toLocaleDateString(\"en-GB\").split(\"/\");\r\n            const monthName = months[monthNumber - 1];\r\n            return `${dayName}, ${monthName} ${monthDay}`;\r\n        }\r\n    }, [globalState.date]);\r\n\r\n    const setOperatedDate = async (callback) => {\r\n        const actualDate = globalState.date;\r\n        const newDay = callback(actualDate.getDate());\r\n        const miliseconds = actualDate.setDate(newDay);\r\n        const newDate = new Date(miliseconds);\r\n        setGlobalState({...globalState, date: newDate, todayExercises: await getExercises(newDate)});\r\n    }\r\n\r\n    const decrementDay = () => {\r\n        setOperatedDate(date => date - 1);\r\n    }\r\n\r\n    const incrementDay = () => {\r\n        setOperatedDate(date => date + 1);\r\n    }\r\n\r\n    return {\r\n        detailDate,\r\n        decrementDay,\r\n        incrementDay\r\n    }\r\n}\r\n\r\nexport default useDate;"],"mappings":";;;;;;;;AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,OAAOC,cAAP;AACA,SAASC,YAAT;AAEA,IAAMC,IAAI,GAAG,CAAC,SAAD,EAAY,OAAZ,EAAqB,QAArB,EAA+B,WAA/B,EAA4C,QAA5C,EAAsD,SAAtD,EAAiE,QAAjE,CAAb;AACA,IAAMC,MAAM,GAAG,CAAC,OAAD,EAAU,SAAV,EAAqB,OAArB,EAA8B,OAA9B,EAAuC,MAAvC,EAA+C,OAA/C,EAAwD,OAAxD,EAAiE,QAAjE,EAA2E,YAA3E,EAAyF,SAAzF,EAAoG,WAApG,EAAiH,WAAjH,CAAf;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EAClB,sBAAwCJ,cAAc,EAAtD;EAAA,IAAQK,WAAR,mBAAQA,WAAR;EAAA,IAAqBC,cAArB,mBAAqBA,cAArB;;EAEA,IAAMC,UAAU,GAAGR,OAAO,CAAC,YAAM;IAC7B,IAAGM,WAAW,CAACG,IAAf,EAAoB;MAChB,IAAMC,UAAU,GAAGJ,WAAW,CAACG,IAA/B;MACA,IAAME,OAAO,GAAGR,IAAI,CAACO,UAAU,CAACE,MAAX,EAAD,CAApB;;MACA,4BAAgCF,UAAU,CAACG,kBAAX,CAA8B,OAA9B,EAAuCC,KAAvC,CAA6C,GAA7C,CAAhC;MAAA;MAAA,IAAOC,QAAP;MAAA,IAAiBC,WAAjB;;MACA,IAAMC,SAAS,GAAGb,MAAM,CAACY,WAAW,GAAG,CAAf,CAAxB;MACA,OAAUL,OAAV,UAAsBM,SAAtB,SAAmCF,QAAnC;IACH;EACJ,CARyB,EAQvB,CAACT,WAAW,CAACG,IAAb,CARuB,CAA1B;;EAUA,IAAMS,eAAe;IAAA,6BAAG,WAAOC,QAAP,EAAoB;MACxC,IAAMT,UAAU,GAAGJ,WAAW,CAACG,IAA/B;MACA,IAAMW,MAAM,GAAGD,QAAQ,CAACT,UAAU,CAACW,OAAX,EAAD,CAAvB;MACA,IAAMC,WAAW,GAAGZ,UAAU,CAACa,OAAX,CAAmBH,MAAnB,CAApB;MACA,IAAMI,OAAO,GAAG,IAAIC,IAAJ,CAASH,WAAT,CAAhB;MACAf,cAAc,iCAAKD,WAAL;QAAkBG,IAAI,EAAEe,OAAxB;QAAiCE,cAAc,QAAQxB,YAAY,CAACsB,OAAD;MAAnE,GAAd;IACH,CANoB;;IAAA,gBAAfN,eAAe;MAAA;IAAA;EAAA,GAArB;;EAQA,IAAMS,YAAY,GAAG,SAAfA,YAAe,GAAM;IACvBT,eAAe,CAAC,UAAAT,IAAI;MAAA,OAAIA,IAAI,GAAG,CAAX;IAAA,CAAL,CAAf;EACH,CAFD;;EAIA,IAAMmB,YAAY,GAAG,SAAfA,YAAe,GAAM;IACvBV,eAAe,CAAC,UAAAT,IAAI;MAAA,OAAIA,IAAI,GAAG,CAAX;IAAA,CAAL,CAAf;EACH,CAFD;;EAIA,OAAO;IACHD,UAAU,EAAVA,UADG;IAEHmB,YAAY,EAAZA,YAFG;IAGHC,YAAY,EAAZA;EAHG,CAAP;AAKH,CAlCD;;AAoCA,eAAevB,OAAf"},"metadata":{},"sourceType":"module"}