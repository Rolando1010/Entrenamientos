{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { getMonthWorkouts } from \"../services/workouts\";\nimport { months } from \"../utils/date\";\nimport useGlobalState from \"./useGlobalState\";\n\nvar useCalendar = function useCalendar() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      month = _useState2[0],\n      setMonth = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      year = _useState4[0],\n      setYear = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      monthWorkouts = _useState6[0],\n      setMonthWorkouts = _useState6[1];\n\n  var _useGlobalState = useGlobalState(),\n      globalState = _useGlobalState.globalState;\n\n  var date = globalState.date;\n  useEffect(function () {\n    if (date) {\n      setMonth(date.getMonth());\n      setYear(date.getFullYear());\n    }\n  }, [globalState.date]);\n  var detailMonth = useMemo(function () {\n    return months[month] + \" \" + year;\n  }, [month, year]);\n  var weeksMonth = useMemo(function () {\n    if (!month && !year) return [];\n    var amountDays = new Date(year, month + 1, 0).getDate();\n    var firstDayIndexWeek = new Date(month + 1 + \"/\" + 1 + \"/\" + year).getDay();\n    var weeks = [];\n    var currentWeek = Array(firstDayIndexWeek).fill(\"\");\n\n    for (var i = 1; i <= amountDays; i++) {\n      if (currentWeek.length === 7) {\n        weeks.push(currentWeek);\n        currentWeek = [];\n      }\n\n      currentWeek.push(i);\n    }\n\n    weeks.push(currentWeek.concat(Array(7 - currentWeek.length).fill(\"\")));\n    return weeks;\n  }, [month, year]);\n\n  var updateMonthWorkouts = function updateMonthWorkouts() {\n    if (!month && !year) return [];\n    getMonthWorkouts(month, year).then(setMonthWorkouts);\n  };\n\n  var incrementhMonth = function incrementhMonth() {\n    setYear(month === 11 ? year + 1 : year);\n    setMonth(month === 11 ? 0 : month + 1);\n  };\n\n  var decrementhMonth = function decrementhMonth() {\n    setYear(month === 0 ? year - 1 : year);\n    setMonth(month === 0 ? 11 : month - 1);\n  };\n\n  return {\n    detailMonth: detailMonth,\n    weeksMonth: weeksMonth,\n    incrementhMonth: incrementhMonth,\n    decrementhMonth: decrementhMonth\n  };\n};\n\nexport default useCalendar;","map":{"version":3,"names":["useEffect","useMemo","useState","getMonthWorkouts","months","useGlobalState","useCalendar","month","setMonth","year","setYear","monthWorkouts","setMonthWorkouts","globalState","date","getMonth","getFullYear","detailMonth","weeksMonth","amountDays","Date","getDate","firstDayIndexWeek","getDay","weeks","currentWeek","Array","fill","i","length","push","concat","updateMonthWorkouts","then","incrementhMonth","decrementhMonth"],"sources":["C:/Users/ROLANDO MORA/Documents/Proyectos/Entrenamientos/V2/src/hooks/useCalendar.js"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { getMonthWorkouts } from \"../services/workouts\";\r\nimport { months } from \"../utils/date\";\r\nimport useGlobalState from \"./useGlobalState\";\r\n\r\nconst useCalendar = () => {\r\n    const [month, setMonth] = useState();\r\n    const [year, setYear] = useState();\r\n    const [monthWorkouts, setMonthWorkouts] = useState([]);\r\n    const { globalState } = useGlobalState();\r\n    const { date } = globalState;\r\n\r\n    useEffect(() => {\r\n        if(date){\r\n            setMonth(date.getMonth());\r\n            setYear(date.getFullYear());\r\n        }\r\n    }, [globalState.date]);\r\n    \r\n    const detailMonth = useMemo(() => `${months[month]} ${year}`, [month, year]);\r\n\r\n    const weeksMonth = useMemo(() => {\r\n        if(!month && !year) return [];\r\n        const amountDays = new Date(year, month + 1, 0).getDate();\r\n        const firstDayIndexWeek = new Date(`${month + 1}/${1}/${year}`).getDay();\r\n        const weeks = [];\r\n        let currentWeek = Array(firstDayIndexWeek).fill(\"\");\r\n        for(let i=1; i<=amountDays; i++) {\r\n            if(currentWeek.length === 7){\r\n                weeks.push(currentWeek);\r\n                currentWeek = [];\r\n            }\r\n            currentWeek.push(i);\r\n        }\r\n        weeks.push(currentWeek.concat(Array(7 - currentWeek.length).fill(\"\")));\r\n        return weeks;\r\n    }, [month, year]);\r\n\r\n    const updateMonthWorkouts = () => {\r\n        if(!month && !year) return [];\r\n        getMonthWorkouts(month, year).then(setMonthWorkouts);\r\n    }\r\n\r\n    const incrementhMonth = () => {\r\n        setYear(month === 11 ? year + 1 : year);\r\n        setMonth(month === 11 ? 0 : month + 1);\r\n    }\r\n\r\n    const decrementhMonth = () => {\r\n        setYear(month === 0 ? year - 1 : year);\r\n        setMonth(month === 0 ? 11 : month - 1);\r\n    }\r\n\r\n    return {\r\n        detailMonth,\r\n        weeksMonth,\r\n        incrementhMonth,\r\n        decrementhMonth\r\n    }\r\n}\r\n\r\nexport default useCalendar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}